<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="HandheldFriendly" content="true" />
  <title>LearnMath</title>

  <!--  <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>-->
  <script src="bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="bower_components/myscript-math-web/myscript-math-web.html">
  <link rel="stylesheet" href="src/custom.css" />
  <link rel="stylesheet" href="//demo.productionready.io/main.css" </head>
  <link rel="stylesheet" href="bower_components/myscript-math-web/examples/examples.css" <body id="page-body">
  <div id="main">

  </div>
  <!-- elm -->
  <script src="elm.js"></script>
  <script>
    /*window.addEventListener("exports-changed", function (ev) {
                console.log(ev)
              });*/
    //const component = document.querySelector('myscript-math-web');
    //const importContent = document.getElementById('importContentField');

    /*document.getElementById('importContent').addEventListener('click', function () {
      component.importContent({
        x: 50,
        y: 50
      }, importContent.value, importContent.dataset.type);
    });*/
  </script>
  <!--<input type="text" id="importContentField" data-type="application/x-latex" placeholder="e.g. \sqrt {\dfrac {2} {3}}"/>
    <button id="importContent">Import</button>-->
  <script>
    var elm_node = document.getElementById('main');
    var app = Elm.Main.embed(elm_node);

    app.ports.storeSession.subscribe(function (session) {
      localStorage.session = session;
    });
    window.addEventListener("storage", function (event) {
      if (event.storageArea === localStorage && event.key === "session") {
        app.ports.onSessionChange.send(event.newValue);
      }
    }, false);
  </script>

  </body>

</html>